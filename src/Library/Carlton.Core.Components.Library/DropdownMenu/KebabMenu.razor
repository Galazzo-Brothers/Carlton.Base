@namespace Carlton.Core.Components.Library
@typeparam T

<DropdownMenu MenuItems="MenuItems" Style="Style">
    <MenuTemplate Context="isActive">
        <i class="@IconCss(isActive)"></i>
    </MenuTemplate>
    <MenuItemTemplate Context="item">
        <DropdownMenuElement MenuItemName="@item.MenuItemName" Value="item.Value" AccentColorIndex="item.AccentColorIndex" MenuIcon="@item.MenuIcon"   />
    </MenuItemTemplate>
</DropdownMenu>

@code {
    [Parameter]
    public IEnumerable<DropdownMenuItem<T>> MenuItems { get; set; } = new List<DropdownMenuItem<T>>();

    private Func<bool, string> IconCss
    {
        get => (isActive) => new CssBuilder()
                .AddClass("mdi mdi-24px")
                .AddClass("mdi-dots-vertical", !isActive)
                .AddClass("mdi-close-circle", isActive)
                .Build();

    }

    private DropdownMenuStyle Style
    {
        get => new DropdownMenuStyle(10, 10, 10);
    }
}
