@using Carlton.Core.Components.Error
@using Carlton.Core.Components.Spinners
@using Carlton.Core.Flux.Components
@using Carlton.Core.Lab.State;
@namespace Carlton.Core.Lab
@typeparam TViewModel


@*
    Represents an passive ViewModel Flux component, for the LabState, that integrates with FluxFramework.
    It observes state events, but receives its ViewModel as a parameter not from the centralized flux store.
*@

<FluxErrorBoundary>
	<ChildContent>
		<PassiveFluxWrapper TViewModel="TViewModel"
							TState="LabState"
							PassiveViewModel="ViewModel">
			<SpinnerContent>
				<Spinner />
			</SpinnerContent>
		</PassiveFluxWrapper>
	</ChildContent>
	<ErrorPrompt Context="error">
		<ErrorPrompt ErrorHeader="@error.Header"
					 ErrorIconClass="@error.IconClass"
					 ErrorMessage="@error.Message"
					 OnRetry="error.Recover" />
	</ErrorPrompt>
</FluxErrorBoundary>


@code {
	/// <summary>
	/// Gets or sets the passive ViewModel parameter.
	/// </summary>
	[Parameter]
	public TViewModel ViewModel { get; set; }
}
