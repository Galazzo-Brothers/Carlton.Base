@using Carlton.Core.Components.Error
@using Carlton.Core.Components.Spinners
@using Carlton.Core.Flux.Components
@using Carlton.Core.Lab.State;
@namespace Carlton.Core.Lab.Components.Flux
@typeparam TViewModel

@*
    Represents a Flux component, for the LabState, that can handle loading, error, and success states.
    It observes state events and displays loading spinner, error prompt, or content based on the current state.
*@

<FluxErrorBoundary>
	<ChildContent>
		<FluxWrapper TState="LabState" TViewModel="TViewModel">
			<SpinnerContent>
				<Spinner />
			</SpinnerContent>
		</FluxWrapper>
	</ChildContent>
	<ErrorPrompt Context="error">
		<ErrorPrompt ErrorHeader="@error.Header"
					 ErrorIconClass="@error.IconClass"
					 ErrorMessage="@error.Message"
					 OnRetry="error.Recover" />
	</ErrorPrompt>
</FluxErrorBoundary>


