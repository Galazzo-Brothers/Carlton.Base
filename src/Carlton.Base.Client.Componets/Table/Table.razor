@namespace Carlton.Base.Components
@typeparam TItem

<div class="main-container">
    <div class="table-container">
        <div class="table-row heading">
            <TableHeader TItem="TItem" Headings="Headings" Items="Items" OnItemsFiltered="(items)=>Items=items"  />
        </div>
        @foreach(var item in Items)
        {
            <div class="table-row">
                @RowTemplate(item)
            </div>
        }
        @if (ShowPaginationRow)
        {
            <div class="pagination-row table-row">
                <TablePaginationRow TItem="TItem" CurrentItems="Items" RowsPerPageCounts="RowsPerPageInts" ItemsChangedCallback="(items)=>Items=items" />
            </div>
        }
    </div>
</div>


@code {
    [Parameter]
    public IEnumerable<TableHeadingItem> Headings { get; set; }

    [Parameter]
    public IList<TItem> Items { get; set; } = new List<TItem>();

    [Parameter]
    public RenderFragment<TItem> RowTemplate { get; set; }

    [Parameter]
    public bool ShowPaginationRow { get; set; }

    [Parameter]
    public IEnumerable<int> RowsPerPageInts { get; set; }
}
