@namespace Carlton.Core.Components

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public Tab ActiveTab { get; set; }

    protected List<Tab> Tabs { get; } = new List<Tab>();

    protected int TabCount { get; private set; }

    protected int ActiveTabIndex { get; private set; }

    internal void AddTab(Tab tab)
    {
        TabCount = TabCount + 1;
        tab.TabIndex = TabCount - 1;

        Tabs.Add(tab);
        if(Tabs.Count == 1)
            ActiveTab = tab;
        StateHasChanged();
    }

    internal void ActivateTab(Tab tab)
    {
        ActiveTab = tab;
        ActiveTabIndex = tab.TabIndex;
    }

    private string GetButtonClass(Tab tab)
    {
        return tab == ActiveTab ? "btn-primary" : "btn-secondary";
    }
}
