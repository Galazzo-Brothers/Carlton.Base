@using Carlton.Core.Components.Layouts.FullScreen
@using Carlton.Core.Components.Logos
@using Carlton.Core.Components.Panels
@using Carlton.Core.Components.PseudoElementComponents
@namespace Carlton.Core.Components.Layouts.DashboardLayouts.PanelLayout

@* Represents a layout component for rendering a dashboard panel layout. *@
<div class="@DashboardPanelLayoutCss">
    <!-- Header Section -->
    <header>
        <div>
            <div class="header-bar">
                <!-- Hamburger Menu -->
                <div class="menu">
                    <HamburgerCollapser />
                </div>
                
                <!-- Title Content Section -->
                <div class="title">
                    <SectionOutlet SectionId="DashboardPanelLayout.HeaderPageTitle" />
                </div>

                <!-- Action Content Section -->
                <div class="action">
                    <SectionOutlet SectionId="DashboardPanelLayout.HeaderActionContent" />
                </div>
            </div>
            <HorizontalAccentDivider WidthPercentage="100" />
        </div>
    </header>
    
    <!-- Navigation -->
    <nav>
        <Logo Title="@AppName" LogoUrl="@LogoUrl" IsCollapsed="IsFullScreen" />
        @if (!IsFullScreen)
        {
            <SectionOutlet SectionId="DashboardPanelLayout.Nav" />
        }
    </nav>

    <!-- Main Content -->
    <main>
        <ResizablePanel>
            <!-- Top Content -->
            <TopContent>
                @BodyContent
            </TopContent>

            <!--Bottom Content -->
            <BottomContent>
                <SectionOutlet SectionId="DashboardPanelLayout.Panel" />
            </BottomContent>
        </ResizablePanel>
    </main>

    <!-- Footer -->
    <footer>
        <SectionOutlet SectionId="DashboardPanelLayout.Footer" />
    </footer>
</div>

@code {
    /// <summary>
    /// Gets or sets the body content to be displayed.
    /// </summary>
    [Parameter]
    public RenderFragment BodyContent { get; set; }

    /// <summary>
    /// Gets or sets the name of the application.
    /// </summary>
    [Parameter]
    public string AppName { get; set; }

    /// <summary>
    /// Gets or sets the URL of the application logo.
    /// </summary>
    [Parameter]
    public string LogoUrl { get; set; }

    /// <summary>
    /// Gets or sets a value indicating whether the layout is in full-screen mode.
    /// </summary>
    [Parameter]
    public bool IsFullScreen { get; set; }

    // CSS class for the layout container
    private string DashboardPanelLayoutCss
    {
        get => new CssBuilder("dashboard-panel-layout")
                .AddClass("collapsed", IsFullScreen)
                .Build();
    }
}



