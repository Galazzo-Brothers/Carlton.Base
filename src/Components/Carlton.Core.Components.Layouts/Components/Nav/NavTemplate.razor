@using Carlton.Core.Components.Layouts.State.FullScreen
@namespace Carlton.Core.Components.Layouts
@implements IDisposable
@inject IFullScreenState FullScreenState

<Logo Title="@Title" />
@if (!FullScreenState.IsFullScreen)
{
    @NavContent
}

@code {
    [Parameter]
    public string Title { get; set; }
    [Parameter]
    public RenderFragment NavContent { get; set; }

    protected override void OnInitialized()
    {
        FullScreenState.FullScreenStateChanged += OnFullScreenStateChange;
        base.OnInitialized();
    }

    private void OnFullScreenStateChange(object sender, FullScreenStateChangedEventArgs args)
        => StateHasChanged();


    public void Dispose() => FullScreenState.FullScreenStateChanged -= OnFullScreenStateChange;
}